{% extends 'template/layouts/base_frontend.html.twig' %}

{% block title %}Post List{% endblock %}

{% block content %}
<div class="container posts-list">
    <div class="row">
        <div class="col-lg-9">
        {% if search %}
            <h3 class="fw-bolder underline mb-3">Search results for : <em class="item-filter">{{ search }}</em></h3>
        {% else %}
            <h3 class="page-section__heading underline mb-3">All posts</h3>
        {% endif %}
       {% embed 'template/_partials/_post_list.html.twig' %}
                {% set url = 'posts?page=' %}
                {% set totalPages = totalPages %}
                {% if search %}{% set search = '&search=' ~ search %}{% endif %}

            {% endembed %}
        </div>
        <div class="col-lg-3">
            {% embed "template/_partials/_aside.html.twig" %}{% endembed %}
        </div>
    </div>
</div>
<style>
    .highlight {
        background-color: yellow;
    }

    .fixed-height {
        height: 250px; 
        object-fit: cover;
        width: 100%;
    }  
</style>
<script>
    // Insérer les termes de recherche sous forme de données JSON dans une variable globale
    window.searchTerms = {{ searchTerms|json_encode|raw }};
</script>
{% endblock %}
